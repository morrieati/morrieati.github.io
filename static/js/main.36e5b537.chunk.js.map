{"version":3,"sources":["App.module.scss","pages/Article/Article.module.scss","pages/Home/index.js","pages/Me/index.js","pages/NoMatch/index.js","pages/Article/index.js","utils/markdown.js","App.js","serviceWorker.js","index.js","../node_modules/coffee-script/lib/coffee-script sync","pages/NoMatch/NoMatch.module.scss"],"names":["module","exports","Home","Helmet","onChangeClientState","title","PubSub","publish","Me","className","styles","NoMatch","Article","article","qs","parse","window","location","search","useState","content","setContent","metadata","setMeta","loaded","setLoaded","toc","setToc","useEffect","a","axios","get","config","article_dir","result","data","assign","fetchData","then","text","md","Remarkable","html","xhtmlOut","breaks","typographer","highlight","str","lang","hljs","getLanguage","value","err","highlightAuto","use","linkify","meta","remarkable","renderer","rules","heading_open","tokens","idx","hLevel","slugify","render","json","renderMarkdown","Content","dangerouslySetInnerHTML","__html","Loading","TOC","map","item","key","i","lvl","href","slug","App","document","setTitle","subscribe","_","newTitle","Blog","exact","path","Footer","SiteName","to","ArticleTitle","Links","Link","RouterApp","Boolean","hostname","match","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","webpackEmptyContext","req","e","Error","code","keys","resolve","id"],"mappings":"oHACAA,EAAOC,QAAU,CAAC,KAAO,kBAAkB,OAAS,oBAAoB,SAAW,sBAAsB,aAAe,0BAA0B,MAAQ,mBAAmB,KAAO,oB,mBCApLD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,QAAU,yBAAyB,IAAM,qBAAqB,QAAU,yBAAyB,QAAU,yBAAyB,QAAU,yBAAyB,QAAU,yBAAyB,QAAU,yBAAyB,QAAU,2B,oKCahUC,EAVF,WACX,OACE,6BACE,kBAACC,EAAA,OAAD,CAAQC,oBAAqB,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,IAAOC,QAAQ,gBAAiBF,KAC1E,8D,iBCQOG,EAVJ,WACT,OACE,yBAAKC,UAAWC,IAAOF,IACrB,kBAACL,EAAA,OAAD,CAAQC,oBAAqB,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,IAAOC,QAAQ,gBAAiBF,KAC1E,gF,iBCQOM,EAZC,WACd,OACE,yBAAKF,UAAWC,IAAOC,SACrB,kBAACR,EAAA,OAAD,CAAQC,oBAAqB,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,IAAOC,QAAQ,gBAAiBF,KAC1E,wEAGF,kH,uJCyDSO,EA3DC,WAAO,IACbC,EAAYC,IAAGC,MAAMC,OAAOC,SAASC,QAArCL,QADY,EAGUM,mBAAS,IAHnB,mBAGbC,EAHa,KAGJC,EAHI,OAIQF,mBAAS,IAJjB,mBAIbG,EAJa,KAIHC,EAJG,OAKQJ,oBAAS,GALjB,mBAKbK,EALa,KAKLC,EALK,OAMEN,mBAAS,IANX,mBAMbO,EANa,KAMRC,EANQ,KA6BpB,OArBAC,qBAAU,WAAM,4CACd,4BAAAC,EAAA,+EAEyBC,IAAMC,IAAN,UAAaC,EAAOC,aAApB,OAAkCpB,EAAlC,QAFzB,cAEUqB,EAFV,yBAGWA,EAAOC,MAHlB,gCAKInB,OAAOC,SAASmB,OAAO,QAL3B,0DADc,uBAAC,WAAD,gCAUdC,GAAYC,MAAK,SAAAC,GACfd,GAAU,GADa,MCvBN,SAACc,GACtB,IAAMC,EAAK,IAAIC,IAAW,OAAQ,CAChCC,MAAM,EACNC,UAAU,EACVC,QAAQ,EACRC,aAAa,EACbC,UAAW,SAAUC,EAAKC,GACxB,GAAIA,GAAQC,IAAKC,YAAYF,GAC3B,IACE,OAAOC,IAAKH,UAAUE,EAAMD,GAAKI,MACjC,MAAOC,IAGX,IACE,OAAOH,IAAKI,cAAcN,GAAKI,MAC/B,MAAOC,IAET,MAAO,MAERE,IAAIC,WAASD,IAAIE,KAAMF,KAAI,SAACG,GAC7BA,EAAWC,SAASC,MAAMC,aAAe,SAACC,EAAQC,GAAT,kBAClCD,EAAOC,GAAKC,OADsB,eACTrC,IAAIsC,QAAQH,EAAOC,EAAM,GAAG1C,SADnB,SAK3C,MAAO,CACLA,QAASoB,EAAGyB,OAAO1B,GACnBiB,KAAMhB,EAAGgB,KACT9B,IAAKA,IAAIa,EAAM,IAAI2B,MDFcC,CAAe5B,GAAtCnB,EAHe,EAGfA,QAASoC,EAHM,EAGNA,KAAM9B,EAHA,EAGAA,IAEvBC,EAAOD,GACPH,EAAQiC,GACRnC,EAAWD,QAEZ,CAACP,IAGF,yBAAKJ,UAAWC,IAAOE,SACrB,kBAACT,EAAA,OAAD,CAAQC,oBAAqB,gBAAGC,EAAH,EAAGA,MAAH,OAAeC,IAAOC,QAAQ,gBAAiBF,KAC1E,+BAAQiB,EAASjB,QAGjBmB,EAEI,yBACEf,UAAS,wBAAmBC,IAAO0D,SACnCC,wBAAyB,CAAEC,OAAQlD,KAGrC,yBAAKX,UAAWC,IAAO6D,SAAvB,cAEN,yBAAK9D,UAAWC,IAAO8D,KACrB,4BAEI9C,EAAI+C,KAAI,SAAAC,GAAI,OACV,wBAAIC,IAAKD,EAAKE,EAAGnE,UAAWC,IAAO,SAAD,OAAUgE,EAAKG,OAC/C,uBAAGC,KAAI,WAAMJ,EAAKK,OAASL,EAAKtD,iB,iBEhD1C4D,EAAM,WAAO,IAAD,EACU7D,mBAAS8D,SAAS5E,OAD5B,mBACTA,EADS,KACF6E,EADE,KAKhB,OAFA5E,IAAO6E,UAAU,iBAAiB,SAACC,EAAGC,GAAcH,EAASG,MAG3D,yBAAK5E,UAAWC,IAAO4E,MACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAM,KACjB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAM,OACjB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAM,SACjB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAM,QACjB,kBAAC,EAAD,QAIJ,4BAAQ/E,UAAWC,IAAO+E,QACxB,kBAAC,IAAD,CAAMhF,UAAWC,IAAOgF,SAAUC,GAAI,KAAtC,oDACA,0BAAMlF,UAAWC,IAAOkF,cAAevF,GACvC,0BAAMI,UAAWC,IAAOmF,OACtB,kBAAC,IAAD,CAAMpF,UAAWC,IAAOoF,KAAMH,GAAI,KAAlC,QACA,kBAAC,IAAD,CAAMlF,UAAWC,IAAOoF,KAAMH,GAAI,OAAlC,MACA,uBAAGlF,UAAWC,IAAOoF,KAAMhB,KAAM,oCAAjC,cAeKiB,EARG,WAChB,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QCtCcC,QACW,cAA7BhF,OAAOC,SAASgF,UAEe,UAA7BjF,OAAOC,SAASgF,UAEhBjF,OAAOC,SAASgF,SAASC,MACvB,2DCZNjC,iBACE,kBAAC,IAAMkC,WAAP,KACE,kBAAC,EAAD,OAEFlB,SAASmB,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBjE,MAAK,SAAAkE,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a,iBEzI5B,SAASC,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9B9G,EAAOC,QAAU6G,EACjBA,EAAoBO,GAAK,I,wCCPzBrH,EAAOC,QAAU,CAAC,QAAU,2B","file":"static/js/main.36e5b537.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Blog\":\"App_Blog__37825\",\"Footer\":\"App_Footer__eC581\",\"SiteName\":\"App_SiteName__2xPm7\",\"ArticleTitle\":\"App_ArticleTitle__Ry22j\",\"Links\":\"App_Links__2ITff\",\"Link\":\"App_Link__2stCx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Article\":\"Article_Article__3p7PQ\",\"Loading\":\"Article_Loading__1tdxi\",\"Content\":\"Article_Content__vLMXd\",\"TOC\":\"Article_TOC__2_ouV\",\"Level_1\":\"Article_Level_1__1p1tG\",\"Level_2\":\"Article_Level_2__26xkQ\",\"Level_3\":\"Article_Level_3__Nt2Qu\",\"Level_4\":\"Article_Level_4__3vzK-\",\"Level_5\":\"Article_Level_5__ORK6V\",\"Level_6\":\"Article_Level_6__2QrAS\"};","import React from 'react'\nimport PubSub from 'pubsub-js'\nimport { Helmet } from 'react-helmet'\n\nconst Home = () => {\n  return (\n    <div>\n      <Helmet onChangeClientState={({ title }) => PubSub.publish('title-changed', title)}>\n        <title>这是首页</title>\n      </Helmet>\n    </div>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport PubSub from 'pubsub-js'\nimport { Helmet } from 'react-helmet'\n\nimport styles from './Me.module.scss'\n\nconst Me = () => {\n  return (\n    <div className={styles.Me}>\n      <Helmet onChangeClientState={({ title }) => PubSub.publish('title-changed', title)}>\n        <title>关于我的一些事</title>\n      </Helmet>\n    </div>\n  )\n}\n\nexport default Me\n","import React from 'react'\nimport PubSub from 'pubsub-js'\nimport { Helmet } from 'react-helmet'\n\nimport styles from './NoMatch.module.scss'\n\nconst NoMatch = () => {\n  return (\n    <div className={styles.NoMatch}>\n      <Helmet onChangeClientState={({ title }) => PubSub.publish('title-changed', title)}>\n        <title>不存在的页面</title>\n      </Helmet>\n\n      <span>你来到了不存在的页面，哈哈</span>\n    </div>\n  )\n}\n\nexport default NoMatch\n","import React, { useEffect, useState } from 'react'\nimport { Helmet } from 'react-helmet'\nimport PubSub from 'pubsub-js'\nimport qs from 'query-string'\nimport axios from 'axios'\n\nimport config from 'config'\nimport { renderMarkdown } from 'utils/markdown'\n\nimport styles from './Article.module.scss'\n\nconst Article = () => {\n  const { article } = qs.parse(window.location.search)\n\n  const [content, setContent] = useState('')\n  const [metadata, setMeta] = useState({})\n  const [loaded, setLoaded] = useState(false)\n  const [toc, setToc] = useState([])\n\n  useEffect(() => {\n    async function fetchData () {\n      try {\n        const result = await axios.get(`${config.article_dir}${article}.md`)\n        return result.data\n      } catch (e) {\n        window.location.assign('/404')\n      }\n    }\n\n    fetchData().then(text => {\n      setLoaded(true)\n\n      const { content, meta, toc } = renderMarkdown(text)\n\n      setToc(toc)\n      setMeta(meta)\n      setContent(content)\n    })\n  }, [article])\n\n  return (\n    <div className={styles.Article}>\n      <Helmet onChangeClientState={({ title }) => PubSub.publish('title-changed', title)}>\n        <title>{metadata.title}</title>\n      </Helmet>\n      {\n        loaded\n          ? (\n            <div\n              className={`markdown-body ${styles.Content}`}\n              dangerouslySetInnerHTML={{ __html: content }}\n            />\n          )\n          : <div className={styles.Loading}>Loading...</div>\n      }\n      <div className={styles.TOC}>\n        <ul>\n          {\n            toc.map(item => (\n              <li key={item.i} className={styles[`Level_${item.lvl}`]}>\n                <a href={`#${item.slug}`}>{item.content}</a>\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Article\n","import { Remarkable } from 'remarkable'\nimport { linkify } from 'remarkable/dist/cjs/linkify'\nimport meta from 'remarkable-meta'\nimport hljs from 'highlight.js'\nimport toc from 'markdown-toc'\n\nconst renderMarkdown = (text) => {\n  const md = new Remarkable('full', {\n    html: true,\n    xhtmlOut: true,\n    breaks: true,\n    typographer: true,\n    highlight: function (str, lang) {\n      if (lang && hljs.getLanguage(lang)) {\n        try {\n          return hljs.highlight(lang, str).value\n        } catch (err) {}\n      }\n\n      try {\n        return hljs.highlightAuto(str).value\n      } catch (err) {}\n\n      return '' // use external default escaping\n    },\n  }).use(linkify).use(meta).use((remarkable) => {\n    remarkable.renderer.rules.heading_open = (tokens, idx) => (\n      `<h${tokens[idx].hLevel} id=${toc.slugify(tokens[idx + 1].content)}>`\n    )\n  })\n\n  return {\n    content: md.render(text),\n    meta: md.meta,\n    toc: toc(text, {}).json,\n  }\n}\n\nexport { renderMarkdown }\n","import React, { useState } from 'react'\nimport { Route, Switch } from 'react-router'\nimport { BrowserRouter as Router, Link } from 'react-router-dom'\nimport PubSub from 'pubsub-js'\n\nimport Home from './pages/Home'\nimport Me from './pages/Me'\nimport NoMatch from './pages/NoMatch'\nimport Article from './pages/Article'\n\nimport styles from './App.module.scss'\n\nconst App = () => {\n  const [title, setTitle] = useState(document.title)\n\n  PubSub.subscribe('title-changed', (_, newTitle) => {setTitle(newTitle)})\n\n  return (\n    <div className={styles.Blog}>\n      <Switch>\n        <Route exact path={'/'}>\n          <Home />\n        </Route>\n        <Route exact path={'/me'}>\n          <Me />\n        </Route>\n        <Route exact path={'/page'}>\n          <Article />\n        </Route>\n        <Route exact path={'/404'}>\n          <NoMatch />\n        </Route>\n      </Switch>\n\n      <footer className={styles.Footer}>\n        <Link className={styles.SiteName} to={'/'}>护肝工程师的日常</Link>\n        <span className={styles.ArticleTitle}>{title}</span>\n        <span className={styles.Links}>\n          <Link className={styles.Link} to={'/'}>Home</Link>\n          <Link className={styles.Link} to={'/me'}>Me</Link>\n          <a className={styles.Link} href={'https://github.com/realMorrisLiu'}>GitHub</a>\n        </span>\n      </footer>\n    </div>\n  )\n}\n\nconst RouterApp = () => {\n  return (\n    <Router>\n      <App />\n    </Router>\n  )\n}\n\nexport default RouterApp\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-snapshot'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NoMatch\":\"NoMatch_NoMatch__3BtUC\"};"],"sourceRoot":""}